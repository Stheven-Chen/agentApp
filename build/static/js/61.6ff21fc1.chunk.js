"use strict";(self.webpackChunkagent_prototype=self.webpackChunkagent_prototype||[]).push([[61],{2854:function(e,n,a){a.d(n,{Z:function(){return o}});var t=a(9439),s=a(2791),l=a(7689),r=a(184),i=function(e){e.text;var n=e.onClick,a=e.onCancel;return(0,r.jsx)("div",{className:"fixed top-0 left-0 w-screen h-screen flex items-center justify-center bg-gray-600 bg-opacity-50",children:(0,r.jsxs)("div",{className:"bg-white w-80 h-72 rounded-lg overflow-hidden flex flex-col justify-center items-center",children:[(0,r.jsx)("div",{className:"py-2",children:(0,r.jsx)("h3",{className:"text-black text-center font-bold text-2xl",children:"COB"})}),(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,r.jsx)("button",{className:"bg-sky-600 text-white  font-bold text-lg w-32 h-14 rounded-xl mt-5",onClick:n,children:"Non MV"}),a&&(0,r.jsx)("button",{className:"bg-amber-400 text-white font-bold text-lg w-32 h-14 rounded-xl mt-5",onClick:a,children:"MV"})]})]})})};var o=function(){var e=(0,s.useState)(!1),n=(0,t.Z)(e,2),a=n[0],o=n[1],c=(0,l.s0)(),u=(0,s.useState)(!1),d=(0,t.Z)(u,2),p=d[0],m=d[1],x=(0,s.useState)(""),h=(0,t.Z)(x,2),f=h[0],j=h[1];return(0,r.jsxs)("div",{className:"fixed bottom-16 right-4",children:[(0,r.jsx)("button",{className:"bg-red-500 text-white rounded-full w-20 h-20 flex items-center justify-center shadow-md",onClick:function(){o(!a)},children:(0,r.jsx)("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),a&&(0,r.jsx)("button",{onClick:function(){m(!0),j("klaim")},className:"bg-blue-500 text-white rounded-full w-16 h-16 flex items-center justify-center absolute right-2 bottom-24",children:(0,r.jsx)("span",{className:"text-xs font-bold",children:"Klaim"})}),a&&(0,r.jsx)("button",{onClick:function(){m(!0),j("new")},className:"bg-yellow-500 text-white rounded-full w-16 h-16 flex items-center justify-center absolute right-2 bottom-44 64",children:(0,r.jsx)("span",{className:"text-xs font-bold",children:"New"})}),p&&(0,r.jsx)(i,{onClick:function(){return c("/agent/application/".concat(f,"harta"))},onCancel:function(){return c("/agent/application/".concat(f,"mv"))}})]})}},7420:function(e,n){n.Z=function(e){var n=e.replace(/[^0-9]/g,""),a=parseInt(n);return isNaN(a)?"":"Rp "+a.toLocaleString("id-ID")}},8716:function(e,n){n.Z=function(){return(new Date).toISOString().split("T")[0]}},429:function(e,n,a){a(2791);var t=a(184);n.Z=function(e){var n=e.isPassword?"password":"text",a="w-full  h-10 mt-5  p-3  font-Poppins font-semibold ".concat(e.additionalStyles);return(0,t.jsx)("input",{onChange:e.onChange,type:n,className:a,placeholder:e.placeholder,value:e.value,id:e.id,name:e.name,pattern:e.pattern})}},6078:function(e,n,a){a(2791);var t=a(184);n.Z=function(e){return(0,t.jsx)("main",{className:"font-Poppins rounded-30px px-8 py-6 bg-login mb-16 min-h-screen  w-screen",children:e.content})}},4780:function(e,n,a){a(2791);var t=a(9434),s=a(7060),l=a(7689),r=a(184);n.Z=function(e){var n=(0,t.I0)(),a=(0,l.s0)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("nav",{className:"flex items-center justify-between bg-primary w-full h-14 lg:h-78px font-Poppins px-4 lg:px-2",children:[(0,r.jsx)("span",{className:"text-xl font-bold text-white",children:"BCA Insurance"}),(0,r.jsx)("img",{className:"w-10 h-7",src:"/agent/assets/logout.svg",alt:"logout",onClick:function(){n((0,s.kS)()),a("/agent/")}})]})})}},7960:function(e,n,a){a(2791);var t=a(7689),s=a(184);n.Z=function(e){var n=(0,t.s0)();return(0,s.jsxs)("div",{className:"flex items-center justify-between  fixed bottom-0 left-0 w-full z-50 bg-primary h-14 p-5 font-Poppins rounded-t-30px",children:[(0,s.jsxs)("div",{onClick:function(){n("/agent/home")},className:"flex items-center justify-center flex-col w-20",children:[(0,s.jsx)("img",{className:"w-5 h-5",src:"/agent/assets/home.svg",alt:"home"}),(0,s.jsx)("span",{className:"text-white",children:"Home"})]}),(0,s.jsxs)("div",{onClick:function(){n("/agent/application")},className:"flex items-center justify-center flex-col w-20",children:[(0,s.jsx)("img",{className:"w-5 h-5",src:"/agent/assets/application.svg",alt:"application"}),(0,s.jsx)("span",{className:"text-white",children:"Application"})]}),(0,s.jsxs)("div",{onClick:function(){n("/agent/commision")},className:"flex items-center justify-center flex-col w-20",children:[(0,s.jsx)("img",{className:"w-5 h-5",src:"/agent/assets/commision.svg",alt:"commision"}),(0,s.jsx)("span",{className:"text-white",children:"Commision"})]})]})}},61:function(e,n,a){a.r(n);var t=a(4165),s=a(5861),l=a(3433),r=a(4942),i=a(1413),o=a(9439),c=a(2791),u=a(4780),d=a(7960),p=a(6078),m=a(2854),x=a(429),h=a(9434),f=a(279),j=a(7689),g=a(7420),k=a(8716),v=a(1883),b=a(184);n.default=function(){var e=(0,c.useState)({polis:"",alamatObj:"",periode:"",okupasi:"",kelas:"",tsi:"",addedDate:"",type:"",diskon:"",komisi:"",startD:"",endD:"",sr:[{arah:"Kiri",okupasisr:"",jarak:""},{arah:"Kanan",okupasisr:"",jarak:""},{arah:"Depan",okupasisr:"",jarak:""},{arah:"Belakang",okupasisr:"",jarak:""}]}),n=(0,o.Z)(e,2),a=n[0],N=n[1],w=(0,c.useState)({bangunan:"",content:""}),y=(0,o.Z)(w,2),C=y[0],Z=y[1],S=(0,h.v9)((function(e){return e.username})),D=S.username,P=(0,c.useState)(""),O=(0,o.Z)(P,2),F=O[0],I=O[1],K=(0,c.useState)([]),R=(0,o.Z)(K,2),B=R[0],A=R[1],T=(0,h.I0)(),E=(0,j.s0)(),L=(0,k.Z)(),M=(0,c.useRef)(null),W=(0,c.useRef)(null),H=(0,c.useState)(""),V=(0,o.Z)(H,2),X=V[0],q=V[1],J=(0,j.TH)().state,_=J.insuredName,z=J.NIK,Q=J.address,U=J.phone,Y=J.email,G=J.COB,$=J.ktp,ee=(0,c.useState)([]),ne=(0,o.Z)(ee,2),ae=ne[0],te=ne[1],se=(0,c.useState)(0),le=(0,o.Z)(se,2),re=le[0],ie=le[1],oe=(0,c.useState)(0),ce=(0,o.Z)(oe,2),ue=ce[0],de=ce[1],pe=function(e){var n=e.target,a=n.name,t=n.value;if("startD"===a){var s=new Date(t),l=new Date(s.getFullYear()+1,s.getMonth(),s.getDate()+1);N((function(e){var n;return(0,i.Z)((0,i.Z)({},e),{},(n={addedDate:L,type:"New"},(0,r.Z)(n,a,t),(0,r.Z)(n,"endD",l.toISOString().split("T")[0]),n))})),I("".concat(s.toISOString().split("T")[0].toString()," - ").concat(l.toISOString().split("T")[0].toString()))}else if(a.startsWith("jarak")){var o=a.replace("jarak","");N((function(e){return(0,i.Z)((0,i.Z)({},e),{},{sr:e.sr.map((function(e){return e.arah===o?(0,i.Z)((0,i.Z)({},e),{},{jarak:t}):e}))})}))}else if(a.startsWith("okupasisr")){var c=a.replace("okupasisr","");N((function(e){return(0,i.Z)((0,i.Z)({},e),{},{sr:e.sr.map((function(e){return e.arah===c?(0,i.Z)((0,i.Z)({},e),{},{okupasisr:t}):e}))})}))}else N((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({addedDate:L,type:"New"},a,t))})),Z((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},a,t))}))},me=function(e){var n=e.target.value;e.target.checked?(A([].concat((0,l.Z)(B),[n])),"rsmdcc"===n&&de((function(e){return e+5e-4})),"tsfwd"===n&&de((function(e){return e+5e-4})),"others"===n&&de((function(e){return e+5e-6}))):(A(B.filter((function(e){return e!==n}))),"rsmdcc"===n&&de((function(e){return e-5e-4})),"tsfwd"===n&&de((function(e){return e-5e-4})),"others"===n&&de((function(e){return e-5e-6})))};(0,c.useEffect)((function(){var e=M.current;if(e){W.current=new v.Z(e,{backgroundColor:"rgb(255, 255, 255)",penColor:"rgb(0, 0, 0)"}),W.current.clear()}}),[]);(0,c.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){var n,s,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://agentserver-production.up.railway.app/okupasi");case 3:return n=e.sent,e.next=6,n.json();case 6:s=e.sent,te(s),a.okupasi&&(l=s.find((function(e){return e.okupasi===a.okupasi})),console.log(l),l&&ie(l.rate)),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[a.okupasi]),(0,c.useEffect)((function(){console.log("rateDasar; ".concat(re)),console.log("ratePerluasan; ".concat(ue)),console.log("Rate: ".concat(ue+re))}),[ue,re]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.Z,{}),(0,b.jsx)(d.Z,{}),(0,b.jsx)(p.Z,{content:(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),T((0,f.Wu)({tsi:(0,g.Z)((parseInt(C.bangunan.replace(/ /g,"").replace(/Rp/g,"").replace(/\./g,""))+parseInt(C.content.replace(/ /g,"").replace(/Rp/g,"").replace(/\./g,""))).toString()),polis:a.polis,alamatObj:a.alamatObj,periode:F,okupasi:a.okupasi,kelas:a.kelas,addedDate:a.addedDate,type:a.type,diskon:a.diskon,komisi:15-a.diskon,perluasan:B,sign:X,NIK:z,address:Q,phone:U,email:Y,COB:G,insuredName:_,status:"Approval",rate:ue+re,ktp:$,agentName:D,bangunan:C.bangunan,content:C.content,sr:a.sr})),E("/agent/application/")},children:[(0,b.jsx)("span",{className:"font-semibold text-xl mb-5",children:"New Application"}),(0,b.jsxs)("div",{className:"relative my-5",children:[(0,b.jsx)("label",{className:"block mb-2",children:"Jenis Pertanggungan:"}),(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("input",{type:"radio",name:"polis",value:"FLEXAS",checked:"FLEXAS"===a.polis,onChange:pe,className:"mr-2"}),(0,b.jsx)("span",{children:"FLEXAS"})]}),(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("input",{type:"radio",name:"polis",value:"PAR",checked:"PAR"===a.polis,onChange:pe,className:"mr-2"}),(0,b.jsx)("span",{children:"PAR"})]})]}),(0,b.jsxs)("div",{className:"relative my-5",children:[(0,b.jsx)("label",{htmlFor:"alamatObj",className:"absolute left-3 -top-2.5 transition-all duration-200",children:"Alamat Objek Pertanggungan"}),(0,b.jsx)(x.Z,{id:"alamatObj",name:"alamatObj",placeholder:"",value:a.alamatObj,onChange:pe,additionalStyles:"rounded-xl pl-3"})]}),(0,b.jsxs)("div",{className:"relative my-5",children:[(0,b.jsx)("label",{htmlFor:"startD",className:"absolute left-3 -top-2.5 transition-all duration-200",children:"Periode Pertanggungan:"}),(0,b.jsxs)("div",{className:"flex justify-between items-center gap-4",children:[(0,b.jsx)("input",{id:"startD",name:"startD",placeholder:"",value:a.startD,onChange:pe,className:"rounded-xl pl-3 w-full h-10 mt-5 p-3 font-Poppins font-semibold",type:"date",min:L}),(0,b.jsx)("span",{className:"mt-5",children:"s/d"}),(0,b.jsx)("input",{id:"endD",name:"endD",placeholder:"",value:a.endD,onChange:pe,className:"rounded-xl pl-3 w-full h-10 mt-5 p-3 font-Poppins font-semibold",type:"date",min:L})]})]}),(0,b.jsxs)("div",{className:"relative my-5",children:[(0,b.jsx)("label",{htmlFor:"okupasi",className:"absolute left-3 -top-2.5 transition-all duration-200",children:"Okupasi:"}),(0,b.jsxs)("select",{id:"okupasi",name:"okupasi",value:a.okupasi,onChange:pe,className:"rounded-xl pl-3 w-full h-10 mt-5 font-Poppins font-semibold",children:[(0,b.jsx)("option",{value:"",children:"Pilih okupasi"}),ae.map((function(e,n){return(0,b.jsx)("option",{value:e.okupasi,children:e.okupasi},n)}))]})]}),(0,b.jsxs)("div",{className:"relative my-5",children:[(0,b.jsx)("label",{htmlFor:"sr",className:"left-3 -top-2.5",children:"Surrounding Risk:"}),(0,b.jsxs)("table",{className:"w-full mt-4",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{}),(0,b.jsx)("th",{className:"text-base font-normal",children:"Okupasi"}),(0,b.jsx)("th",{className:"text-base font-normal",children:"Jarak"})]})}),(0,b.jsxs)("tbody",{children:[(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:"Kiri:"}),(0,b.jsx)("td",{children:(0,b.jsx)("input",{type:"text",id:"okupasisrKiri",name:"okupasisrKiri",value:a.sr[0].okupasisr,onChange:pe,className:"w-full rounded-xl pl-3 h-10 font-Poppins font-semibold"})}),(0,b.jsx)("td",{children:(0,b.jsx)("input",{type:"text",id:"jarakKiri",name:"jarakKiri",value:a.sr[0].jarak,onChange:pe,className:"w-full rounded-xl pl-3 h-10 font-Poppins font-semibold"})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:"Kanan:"}),(0,b.jsx)("td",{children:(0,b.jsx)("input",{type:"text",id:"okupasisrKanan",name:"okupasisrKanan",value:a.sr[1].okupasisr,onChange:pe,className:"w-full rounded-xl pl-3 h-10 font-Poppins font-semibold"})}),(0,b.jsx)("td",{children:(0,b.jsx)("input",{type:"text",id:"jarakKanan",name:"jarakKanan",value:a.sr[1].jarak,onChange:pe,className:"w-full rounded-xl pl-3 h-10 font-Poppins font-semibold"})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:"Depan:"}),(0,b.jsx)("td",{children:(0,b.jsx)("input",{type:"text",id:"okupasisrDepan",name:"okupasisrDepan",value:a.sr[2].okupasisr,onChange:pe,className:"w-full rounded-xl pl-3 h-10 font-Poppins font-semibold"})}),(0,b.jsx)("td",{children:(0,b.jsx)("input",{type:"text",id:"jarakDepan",name:"jarakDepan",value:a.sr[2].jarak,onChange:pe,className:"w-full rounded-xl pl-3 h-10 font-Poppins font-semibold"})})]}),(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:"Belakang:"}),(0,b.jsx)("td",{children:(0,b.jsx)("input",{type:"text",id:"okupasisrBelakang",name:"okupasisrBelakang",value:a.sr[3].okupasisr,onChange:pe,className:"w-full rounded-xl pl-3 h-10 font-Poppins font-semibold"})}),(0,b.jsx)("td",{children:(0,b.jsx)("input",{type:"text",id:"jarakBelakang",name:"jarakBelakang",value:a.sr[3].jarak,onChange:pe,className:"w-full rounded-xl pl-3 h-10 font-Poppins font-semibold"})})]})]})]})]}),(0,b.jsxs)("div",{className:"relative my-5",children:[(0,b.jsx)("label",{className:"block mb-2",children:"Perluasan:"}),(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("input",{type:"checkbox",name:"perluasan",value:"tsfwd",checked:B.includes("tsfwd"),onChange:me,className:"mr-2"}),(0,b.jsx)("span",{children:"TSFWD"})]}),(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("input",{type:"checkbox",name:"perluasan",value:"rsmdcc",checked:B.includes("rsmdcc"),onChange:me,className:"mr-2"}),(0,b.jsx)("span",{children:"RSMDCC"})]}),(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("input",{type:"checkbox",name:"perluasan",value:"eqvet",checked:B.includes("eqvet"),onChange:me,className:"mr-2"}),(0,b.jsx)("span",{children:"EQVET"})]}),(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("input",{type:"checkbox",name:"perluasan",value:"others",checked:B.includes("others"),onChange:me,className:"mr-2"}),(0,b.jsx)("span",{children:"Others"})]})]}),(0,b.jsxs)("div",{className:"relative my-5",children:[(0,b.jsx)("label",{htmlFor:"bangunan",className:"absolute left-3 -top-2.5 transition-all duration-200",children:"Total Nilai Bangunan:"}),(0,b.jsx)("input",{id:"bangunan",name:"bangunan",placeholder:"",value:(0,g.Z)(C.bangunan),onChange:pe,className:"rounded-xl pl-3 w-full h-10 mt-5 p-3 font-Poppins font-semibold",type:"text"})]}),(0,b.jsxs)("div",{className:"relative my-5",children:[(0,b.jsx)("label",{htmlFor:"content",className:"absolute left-3 -top-2.5 transition-all duration-200",children:"Total Nilai Content:"}),(0,b.jsx)("input",{id:"content",name:"content",placeholder:"",value:(0,g.Z)(C.content),onChange:pe,className:"rounded-xl pl-3 w-full h-10 mt-5 p-3 font-Poppins font-semibold",type:"text"})]}),(0,b.jsxs)("div",{className:"relative my-5",children:[(0,b.jsx)("label",{htmlFor:"tsi",className:"absolute left-3 -top-2.5 transition-all duration-200",children:"Total Nilai Pertanggungan:"}),(0,b.jsx)("input",{id:"tsi",name:"tsi",placeholder:"",readOnly:!0,value:(0,g.Z)((parseInt(C.bangunan.replace(/ /g,"").replace(/Rp/g,"").replace(/\./g,""))+parseInt(C.content.replace(/ /g,"").replace(/Rp/g,"").replace(/\./g,""))).toString()),onChange:pe,className:"rounded-xl pl-3 w-full h-10 mt-5 p-3 font-Poppins font-semibold",type:"text"})]}),(0,b.jsxs)("div",{className:"relative my-5 rounded-xl border-solid border-2 border-gray-300 flex justify-center p-3 flex-col gap-3 shadow-lg",children:[(0,b.jsx)("canvas",{className:"rounded-xl",ref:M}),(0,b.jsx)("div",{className:"flex justify-center items-center w-full"})]}),(0,b.jsxs)("div",{className:"w-full flex justify-between px-2",children:[(0,b.jsx)("button",{onClick:function(){E("/agent/application")},className:"bg-yellow-500 h-8 w-32 text-white font-Poppins rounded-xl transform-gpu transition-transform duration-300 active:scale-90",children:"Cancel"}),(0,b.jsx)("button",{onClick:function(){var e,n=null===(e=W.current)||void 0===e?void 0:e.toDataURL();n&&q(n),console.log(X)},type:"submit",className:"bg-sky-500 h-8 w-32 text-white font-Poppins rounded-xl transform-gpu transition-transform duration-300 active:scale-90",children:"Send"})]})]})})}),(0,b.jsx)(m.Z,{})]})}}}]);
//# sourceMappingURL=61.6ff21fc1.chunk.js.map